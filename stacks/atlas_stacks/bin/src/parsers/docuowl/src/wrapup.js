import cheerio from 'cheerio'
import packageJSON from '../../../../package.json'
import fs from 'fs'
import path from 'path'

export default async () => {
  const html = fs.readFileSync(path.join(__dirname, '../../../../docs-html/docuowl/index.html'))

  const $ = cheerio.load(html)

  $('.version svg').remove()
  $('.version small').remove()

  $('.version').text(`EventBridge Atlas ${packageJSON.version}`)
  $('title').text(`EventBridge Atlas`)

  $("[rel='icon']").attr(
    'href',
    'data:image/jpeg;base64,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'
  )

  fs.writeFileSync(path.join(__dirname, '../../../../docs-html/docuowl/index.html'), $.html())
}
